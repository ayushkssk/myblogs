<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT4B Blogs - Share Your Stories</title>
    
    <!-- Tailwind CSS and DaisyUI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="flex flex-col min-h-screen bg-base-200">
    <!-- Top Bar -->
    <div class="bg-primary text-primary-content">
        <div class="container mx-auto px-4 py-2">
            <div class="flex justify-between items-center text-sm">
                <div class="flex items-center gap-4">
                    <a href="mailto:contact@it4b.in" class="hover:text-white flex items-center gap-2">
                        <i class="fas fa-envelope"></i>
                        <span class="hidden md:inline">support@it4b.in</span>
                    </a>
                    <a href="tel:+917766866355" class="hover:text-white flex items-center gap-2">
                        <i class="fas fa-phone"></i>
                        <span class="hidden md:inline">+91 7766866355</span>
                    </a>
                </div>
                <div class="flex items-center gap-4">
                    <a href="https://instagram.com/ayshkssk" target="_blank" class="hover:text-white">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="hover:text-white">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="#" class="hover:text-white">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Navbar -->
    <div class="bg-base-100 shadow-lg sticky top-0 z-50">
        <div class="navbar container mx-auto px-4">
            <div class="navbar-start">
                <div class="dropdown">
                    <label tabindex="0" class="btn btn-ghost lg:hidden">
                        <i class="fas fa-bars"></i>
                    </label>
                    <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                        <li><a href="#" class="active">Home</a></li>
                        <li><a href="#posts">Posts</a></li>
                        <li><a href="#about">About</a></li>
                    </ul>
                </div>
                <a class="btn btn-ghost normal-case text-2xl font-bold">
                    <span class="text-primary">IT4B</span>Blogs
                </a>
            </div>
            <div class="navbar-center hidden lg:flex">
                <ul class="menu menu-horizontal px-1 text-lg">
                    <li><a href="#" class="active">Home</a></li>
                    <li><a href="#posts">Posts</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
            </div>
            <div class="navbar-end gap-2">
                <div class="dropdown dropdown-end hidden" id="userDropdown">
                    <label tabindex="0" class="btn btn-ghost btn-circle avatar">
                        <div class="w-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
                            <img src="https://ui-avatars.com/api/?background=random" id="userAvatar" />
                        </div>
                    </label>
                    <ul tabindex="0" class="mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52">
                        <li>
                            <a id="userProfileName" class="font-semibold justify-between">
                                Loading...
                                <span class="badge badge-primary">Pro</span>
                            </a>
                        </li>
                        <li><a href="admin.html"><i class="fas fa-cog"></i> Admin Panel</a></li>
                        <li><a onclick="showCreatePostModal()" class="text-primary"><i class="fas fa-plus-circle"></i> Create Post</a></li>
                        <li><a onclick="logout()" class="text-error"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                    </ul>
                </div>
                <a href="login.html" class="btn btn-primary" id="loginButton">
                    <i class="fas fa-sign-in-alt mr-2"></i> Login
                </a>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <div class="hero min-h-[50vh] bg-base-200" style="background-image: url('https://images.unsplash.com/photo-1499750310107-5fef28a66643?q=80'); background-size: cover; background-position: center;">
        <div class="hero-overlay bg-opacity-60"></div>
        <div class="hero-content text-center text-neutral-content">
            <div class="max-w-md">
                <h1 class="mb-5 text-5xl font-bold">Welcome to IT4B Blogs</h1>
                <p class="mb-5">Share your thoughts, experiences, and knowledge with the world. Join our community of writers and readers.</p>
                <button class="btn btn-primary" id="heroCreatePostBtn" onclick="redirectToAdmin()">
                    <i class="fas fa-pen-to-square mr-2"></i> Start Writing
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Sidebar -->
            <div class="md:col-span-1">
                <div class="card bg-base-100 shadow-xl sticky top-24">
                    <div class="card-body">
                        <h2 class="card-title text-xl mb-4">
                            <i class="fas fa-tags mr-2"></i> Categories
                        </h2>
                        <ul class="menu bg-base-100 w-full p-0">
                            <li>
                                <details open>
                                    <summary class="font-semibold">
                                        <i class="fas fa-laptop-code"></i> Technology
                                    </summary>
                                    <ul>
                                        <li><a onclick="filterByCategory('Web Development')">Web Development</a></li>
                                        <li><a onclick="filterByCategory('Mobile Apps')">Mobile Apps</a></li>
                                        <li><a onclick="filterByCategory('AI & ML')">AI & ML</a></li>
                                    </ul>
                                </details>
                            </li>
                            <li>
                                <details>
                                    <summary class="font-semibold">
                                        <i class="fas fa-heart"></i> Lifestyle
                                    </summary>
                                    <ul>
                                        <li><a onclick="filterByCategory('Travel')">Travel</a></li>
                                        <li><a onclick="filterByCategory('Food')">Food</a></li>
                                        <li><a onclick="filterByCategory('Health')">Health</a></li>
                                    </ul>
                                </details>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Blog Posts -->
            <div class="md:col-span-2" id="postsContainer">
                <!-- Posts will be dynamically added here -->
                <div class="text-center p-8">
                    <span class="loading loading-spinner loading-lg text-primary"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Post Modal -->
    <dialog id="createPostModal" class="modal">
        <form method="dialog" class="modal-box w-11/12 max-w-2xl">
            <h3 class="font-bold text-2xl mb-6">Create New Post</h3>
            <div class="form-control">
                <label class="label">
                    <span class="label-text font-semibold">Title</span>
                </label>
                <input type="text" id="postTitle" placeholder="Enter an engaging title" class="input input-bordered" required />
            </div>
            <div class="form-control mt-4">
                <label class="label">
                    <span class="label-text font-semibold">Category</span>
                </label>
                <select id="postCategory" class="select select-bordered" required>
                    <option value="">Select category</option>
                    <option value="Web Development">Web Development</option>
                    <option value="Mobile Apps">Mobile Apps</option>
                    <option value="AI & ML">AI & ML</option>
                    <option value="Travel">Travel</option>
                    <option value="Food">Food</option>
                    <option value="Health">Health</option>
                </select>
            </div>
            <div class="form-control mt-4">
                <label class="label">
                    <span class="label-text font-semibold">Content</span>
                </label>
                <textarea id="postContent" class="textarea textarea-bordered h-32" placeholder="Share your thoughts..." required></textarea>
            </div>
            <div class="form-control mt-4">
                <label class="label">
                    <span class="label-text font-semibold">Cover Image URL</span>
                </label>
                <input type="url" id="postImage" placeholder="Paste image URL here" class="input input-bordered" />
            </div>
            <div class="modal-action">
                <button type="button" class="btn btn-ghost" onclick="quickFillPost()">
                    <i class="fas fa-magic mr-2"></i> Quick Fill
                </button>
                <button type="button" class="btn" onclick="closeCreatePostModal()">
                    <i class="fas fa-times mr-2"></i> Cancel
                </button>
                <button type="button" class="btn btn-primary" onclick="createPost()">
                    <i class="fas fa-paper-plane mr-2"></i> Publish
                </button>
            </div>
        </form>
    </dialog>

    <!-- Alert Toast -->
    <div id="alert" class="toast toast-end z-50 hidden">
        <div class="alert" id="alertContent">
            <span id="alertMessage"></span>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer p-10 bg-neutral text-neutral-content mt-auto">
        <div class="container mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div>
                    <h2 class="text-2xl font-bold mb-4">
                        <span class="text-primary">IT4B</span>Blogs
                    </h2>
                    <p class="text-sm opacity-90">Your platform for sharing knowledge and experiences. Built with ❤️ by the IT4B team.</p>
                    <div class="flex gap-4 mt-4">
                        <a href="https://instagram.com/ayshkssk" target="_blank" class="btn btn-circle btn-outline btn-sm">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="btn btn-circle btn-outline btn-sm">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="btn btn-circle btn-outline btn-sm">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a class="hover:text-primary"><i class="fas fa-home mr-2"></i>Home</a></li>
                        <li><a class="hover:text-primary"><i class="fas fa-info-circle mr-2"></i>About Us</a></li>
                        <li><a class="hover:text-primary"><i class="fas fa-blog mr-2"></i>Blog Posts</a></li>
                        <li><a class="hover:text-primary"><i class="fas fa-envelope mr-2"></i>Contact</a></li>
                    </ul>
                </div>
                
                <!-- Categories -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">Categories</h3>
                    <ul class="space-y-2">
                        <li><a class="hover:text-primary"><i class="fas fa-laptop-code mr-2"></i>Technology</a></li>
                        <li><a class="hover:text-primary"><i class="fas fa-heart mr-2"></i>Lifestyle</a></li>
                        <li><a class="hover:text-primary"><i class="fas fa-plane mr-2"></i>Travel</a></li>
                        <li><a class="hover:text-primary"><i class="fas fa-utensils mr-2"></i>Food</a></li>
                    </ul>
                </div>
                
                <!-- Contact Info -->
                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
                    <ul class="space-y-2">
                        <li>
                            <a href="mailto:contact@it4b.in" class="hover:text-primary">
                                <i class="fas fa-envelope mr-2"></i>contact@it4b.in
                            </a>
                        </li>
                        <li>
                            <a href="tel:+917766866355" class="hover:text-primary">
                                <i class="fas fa-phone mr-2"></i>+91 7766866355
                            </a>
                        </li>
                        <li>
                            <i class="fas fa-map-marker-alt mr-2"></i>IT4B Technologies
                            <br><span class="ml-6">India</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <!-- Bottom Bar -->
            <div class="border-t border-neutral-content/10 mt-8 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                    <p class="text-sm opacity-90">
                        &copy; 2024 IT4B Technologies. All rights reserved.
                    </p>
                    <p class="text-sm opacity-90">
                        Designed & Developed by <a href="https://instagram.com/ayshkssk" target="_blank" class="text-primary hover:underline">@ayshkssk</a>
                    </p>
                    <div class="flex gap-4 text-sm">
                        <a class="hover:text-primary">Privacy Policy</a>
                        <span>•</span>
                        <a class="hover:text-primary">Terms of Service</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Firebase Scripts -->
    <script type="module">
        import { auth } from './js/firebase-config.js';
        import { blogOperations } from './js/firebase-operations.js';
        import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";
        
        // Make operations available globally
        window.blogOperations = blogOperations;
        window.auth = auth;
        window.signOut = signOut;
    </script>
    <script src="js/app.js"></script>
</body>
</html>